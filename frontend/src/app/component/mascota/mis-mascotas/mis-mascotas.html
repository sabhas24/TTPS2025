<app-home-header></app-home-header>

<main class="mis-mascotas-page">
  <h1>Mis Mascotas</h1>

  <div *ngIf="cargando">Cargando...</div>
  <div *ngIf="error" class="error-message-global">{{ error }}</div>

  <div *ngIf="!cargando && !error">
    <div class="mascotas-list">
      <!-- Iteramos sobre mascotas de la página actual -->
      <div *ngFor="let mascota of mascotasPaginadas" class="mascota-card">
        <img [src]="mascota.fotos[0]" alt="{{ mascota.nombre }}" />
        <div class="info">
          <h3>{{ mascota.nombre }}</h3>
          <p>Barrio: {{ mascota.coordenada?.barrio || 'No definido' }}</p>
          <p>Color: {{ mascota.color }}</p>
          <p>{{ mascota.descripcionExtra }}</p>
          <button (click)="editarMascota(mascota.id)">Editar</button>
          <button (click)="eliminarMascota(mascota.id)">Eliminar</button>
        </div>
      </div>
    </div>

    <!-- Controles de paginación -->
    <div class="paginacion" *ngIf="totalPaginas > 1">
      <button (click)="paginaAnterior()" [disabled]="paginaActual === 1">Anterior</button>
      <span>Página {{ paginaActual }} de {{ totalPaginas }}</span>
      <button (click)="siguientePagina()" [disabled]="paginaActual === totalPaginas">Siguiente</button>
    </div>
  </div>
</main>
