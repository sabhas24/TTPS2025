<app-home-header></app-home-header>

<div class="container" *ngIf="!cargando; else cargandoTemplate">

  <h2 class="mt-4">Editar Mascota Perdida</h2>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
  <div *ngIf="exito" class="alert alert-success">{{ exito }}</div>

  <!-- ✅ Solo la foto, sin mostrar base64 -->
  <div *ngIf="mascota.fotos.length > 0" class="row mb-4">
    <div class="col-md-4 mb-3" *ngFor="let foto of mascota.fotos">
      <img [src]="foto" alt="Foto de mascota" class="img-fluid rounded shadow" style="max-height: 300px;">
    </div>
  </div>

  <form (ngSubmit)="actualizarMascota()">

    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input type="text" id="nombre" class="form-control" [(ngModel)]="mascota.nombre" name="nombre" required>
    </div>

    <div class="form-group">
      <label for="tamanio">Tamaño (Cm)</label>
      <input type="number" id="tamanio" class="form-control" [(ngModel)]="mascota.tamanio" name="tamanio" required>
    </div>

    <div class="form-group">
      <label for="color">Color</label>
      <input type="text" id="color" class="form-control" [(ngModel)]="mascota.color" name="color" required>
    </div>

    <div class="form-group">
      <label for="descripcionExtra">Descripción</label>
      <textarea id="descripcionExtra" class="form-control" [(ngModel)]="mascota.descripcionExtra" name="descripcionExtra"></textarea>
    </div>

    <button type="submit" class="btn btn-primary mt-3">Actualizar Mascota</button>
    <button type="button" class="btn btn-secondary mt-3" (click)="router.navigate(['/mis-mascotas'])">
      Cancelar
    </button>

  </form>
</div>

<ng-template #cargandoTemplate>
  <div class="text-center mt-5">
    <p>Cargando mascota...</p>
  </div>
</ng-template>
