<div class="login-page">
    <header class="login-header">
        <div class="header-content">
            <div class="logo-section" routerLink="/">
                <span class="logo-text">PetFind</span>
            </div>
            <nav class="nav-links">
                <a routerLink="/" class="btn-home">Home</a>
            </nav>
        </div>
    </header>

    <main class="login-content">
        <div class="login-container">
            <div class="login-card">
                <div class="card-header">
                    <h1>Restablecer Contraseña</h1>
                    <p>Ingresá tu nueva contraseña.</p>
                </div>

                <form [formGroup]="form" (ngSubmit)="onSubmit()" class="login-form">
                    <div class="form-group">
                        <label>Nueva contraseña</label>
                        <div class="input-wrapper">
                            <input type="password" formControlName="password" placeholder="••••••••"
                                [class.error]="form.get('password')?.invalid && form.get('password')?.touched">
                        </div>
                        <span class="error-text"
                            *ngIf="form.get('password')?.hasError('required') && form.get('password')?.touched">
                            La contraseña es requerida
                        </span>
                        <span class="error-text"
                            *ngIf="form.get('password')?.hasError('minlength') && form.get('password')?.touched">
                            Mínimo 6 caracteres
                        </span>
                    </div>

                    <div class="form-group">
                        <label>Confirmar contraseña</label>
                        <div class="input-wrapper">
                            <input type="password" formControlName="confirm" placeholder="••••••••"
                                [class.error]="form.get('confirm')?.invalid && form.get('confirm')?.touched">
                        </div>
                        <span class="error-text" *ngIf="form.errors?.['notMatch'] && form.get('confirm')?.touched">
                            Las contraseñas no coinciden
                        </span>
                    </div>

                    <button type="submit" class="btn-submit" [disabled]="form.invalid || isSubmitting">
                        {{ isSubmitting ? 'Restableciendo...' : 'Restablecer' }}
                    </button>
                </form>

                <div *ngIf="success" class="success-message-global">
                    {{ success }}
                </div>

                <div *ngIf="error" class="error-message-global">
                    {{ error }}
                </div>
            </div>
        </div>
    </main>

    <app-home-footer></app-home-footer>
</div>